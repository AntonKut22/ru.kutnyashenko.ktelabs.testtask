## Задание:

Создать систему записи пациентов на приём, состоящую из:
1.	Базы данных (желательно PostgreSQL)

1.1.	С таблицами

1.1.1.	врачи: id, uuid, ФИО и т. д. (здесь и далее «и т. д.» обозначает, что можно расширить структуру, если будут свои идеи)

1.1.2.	пациенты: id, uuid, ФИО, дата рождения и т. д.

1.1.3.	талон (слот времени): id, id врача, id пациента, время начала приёма и т. д.

1.2.	SQL-скрипт создания структура этой базы в выбранной СУБД (можно взять автоматически сгенерированный скрипт по созданной структуре).

2.	Java web приложение, выполняющее основную логику (желательно Spring Boot)

2.1.	Осуществлять подключение и операции в БД (желательно средствами Java Persistence API)

2.2.	SOAP сервис с методом создания расписания, который по переданным правилам создаёт слоты времени. Правила могут состоять из даты/времени начала расписания, продолжительность талона (слота времени), их количество и т. д. Можно применить более сложную структуру правил, если будет желание.

2.3.	REST сервис работы с методами:

2.3.1.	получение свободных слотов времени к указанному врачу на указанную дату

2.3.2.	занятие слота времени по его id

2.3.3.	получение всех слотов времени, занятых одним пациентом по id/uuid

## Применяемые технологии
- Java 17
- Maven
- PostgreSQL
- Spring Boot
- Spring Data

## Запуск

**Запуск Docker-контейнера PostgreSQL:**

docker run --name ktelabspg -p 5432:5432 -e POSTGRES_USER=ktelabs -e POSTGRES_PASSWORD=ktelabs -e POSTGRES_DB=kte_labs -d postgres:16.1

**Скрипт для создания базы данных**

create table doctor
(
id                 integer generated by default as identity
primary key,
uuid               uuid default gen_random_uuid(),
lastname           varchar,
firstname          varchar,
middlename         varchar,
date_of_employment date
);

alter table doctor
owner to ktelabs;

create table patient
(
id         integer generated by default as identity
primary key,
uuid       uuid default gen_random_uuid(),
lastname   varchar,
firstname  varchar,
middlename varchar,
birthday   date
);

alter table patient
owner to ktelabs;

create table ticket
(
id               integer generated by default as identity
primary key,
doctor_id        integer
references doctor,
patient_id       integer
references patient,
appointment_date date,
appointment_time time
);

alter table ticket
owner to ktelabs;


**Пример xml для создания расписания**

<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://service.ws.schedule/">
<soapenv:Header/>
<soapenv:Body>
<ser:Schedule>
<startDataTime>2024-02-10T08:00:00</startDataTime>
<durationTicket>30</durationTicket>
<doctorId>2</doctorId>
<countTicketInDay>10</countTicketInDay>
</ser:Schedule>
</soapenv:Body>
</soapenv:Envelope>